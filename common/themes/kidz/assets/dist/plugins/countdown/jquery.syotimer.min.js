(function(c){var d=24*60*60,a=60*60,h=60,f={rus:{second:["секунда","секунды","секунд"],minute:["минута","минуты","минут"],hour:["час","часа","часов"],day:["день","дня","дней"]},eng:{second:["second","seconds"],minute:["minute","minutes"],hour:["hour","hours"],day:["day","days"],},};
c.fn.syotimer=function(i){defaultTimer={year:2014,month:7,day:31,hour:0,minute:0,second:0,periodic:false,periodInterval:7,periodUnit:"d",dayVisible:true,dubleNumbers:true,effectType:"none",lang:"eng",headTitle:"",footTitle:"",afterDeadline:function(l){l.bodyBlock.html('<p style="font-size: 1.2em;">The countdown is finished!</p>');
}};var k=c.extend(defaultTimer,i||{});var j=this;return j.each(function(){var m=c(this);e(m,k);(function l(){c(".second .tab-val",m).css("opacity",1);Now=new Date();
DeadDate=new Date(k.year,k.month-1,k.day,k.hour,k.minute,k.second);different=Math.floor((DeadDate.getTime()-Now.getTime())/1000);if(k.periodic){switch(k.periodUnit){case"d":unit_ms=d;
break;case"h":unit_ms=a;break;case"m":unit_ms=h;break;case"s":unit_ms=1;break;}differentUnits=Math.abs(Math.ceil((DeadDate.getTime()-Now.getTime())/(unit_ms*1000)));
if(different>=0){dUnits=differentUnits%k.periodInterval;dUnits=(dUnits==0)?k.periodInterval-1:dUnits-1;}else{dUnits=k.periodInterval-differentUnits%k.periodInterval;
}addUnits=different%unit_ms;if((addUnits==0)&&(different<0)){dUnits--;}alls=Math.abs(dUnits*unit_ms+addUnits);}else{alls=different;}if(alls>=0){dd=Math.floor(alls/d);
alls=alls%d;dh=Math.floor(alls/a);alls=alls%a;dm=Math.floor(alls/h);alls=alls%h;ds=Math.floor(alls);if(k.dayVisible){c(".day .tab-val",m).html(dd);c(".day .tab-metr",m).html(b(dd,f[k.lang].day,k.lang));
c(".hour .tab-val",m).html(g(dh,k.dubleNumbers));c(".hour .tab-metr",m).html(b(dh,f[k.lang].hour,k.lang));}else{dh+=dd*24;c(".hour .tab-val",m).html(g(dh,k.dubleNumbers));
c(".hour .tab-metr",m).html(b(dh,f[k.lang].hour,k.lang));}c(".minute .tab-val",m).html(g(dm,k.dubleNumbers));c(".minute .tab-metr",m).html(b(dm,f[k.lang].minute,k.lang));
c(".second .tab-val",m).html(g(ds,k.dubleNumbers));c(".second .tab-metr",m).html(b(ds,f[k.lang].second,k.lang));switch(k.effectType){case"none":setTimeout(function(){l();
},1000);break;case"opacity":c(".second .tab-val",m).animate({opacity:0.1},1000,"linear",l);break;}}else{k.afterDeadline(m);}})();});};function e(j,i){timer_html='<div class="timer-head-block">'+i.headTitle+"</div>";
timer_html+='<div class="timer-body-block">';if(i.dayVisible){timer_html+='            <div class="table-cell day">                <div class="tab-val">0</div>                <div class="tab-metr"></div>            </div>';
}timer_html+='            <div class="table-cell hour">                <div class="tab-val">00</div>                <div class="tab-metr"></div>            </div>            <div class="table-cell minute">                <div class="tab-val">00</div>                <div class="tab-metr"></div>            </div>            <div class="table-cell second">                <div class="tab-val">00</div>                <div class="tab-metr"></div>            </div>';
timer_html+="</div>";timer_html+='<div class="timer-foot-block">'+i.footTitle+"</div>";j.addClass("timer").html(timer_html);headBlock=c(".timer-head-block",j);
bodyBlock=c(".timer-body-block",j);footBlock=c(".timer-foot-block",j);timerBlocks={headBlock:headBlock,bodyBlock:bodyBlock,footBlock:footBlock,};j=c.extend(j,timerBlocks);
}function g(i,j){j=(j=="")?j:true;return((i<=9)&&j)?("0"+i):(""+i);}function b(i,k,j){switch(j){case"rus":cases=[2,0,1,1,1,2];return k[(i%100>4&&i%100<20)?2:cases[(i%10<5)?i%10:5]];
case"eng":return k[(i==1)?0:1];}}})(jQuery);